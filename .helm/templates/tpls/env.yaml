{{- define "envs" }}
- name: DIR_HOME
  value: {{ .Values.ci_dir_home }}
- name: COUNTRY
  value: {{ env "COUNTRY" | quote}}

- name: IS_TEST
  value: {{ ternary 1 0 (ne (env "ENVNAME") "prod") | quote }}

- name: MYSQL_DB
  value: {{ .mysql.db }}
- name: MYSQL_HOST
  value: {{ .mysql.host }}
- name: MYSQL_USER
  value: {{ .mysql.user }}
- name: MYSQL_PASSWORD
  value: {{ .mysql.password }}
- name: MYSQL_PORT
  value: {{ .mysql.port | quote }}

- name: POSTGRES_HOST
  value: {{ .postgres.host }}
- name: POSTGRES_DB
  value: {{ .postgres.db }}
- name: POSTGRES_USER
  value: {{ .postgres_user }}
- name: POSTGRES_PASSWORD
  value: {{ .postgres_password }}
- name: POSTGRES_PORT
  value: {{ .postgres.port | quote }}

- name: POSTGRES_SLAVE_HOST
  value: {{ .postgres.host_slave }}
- name: POSTGRES_STATISTICS_HOST
  value: {{ .postgres.host_statistics }}

- name: POSTGRES_NFDUMP_DB
  value: {{ .postgres.db_nfdump }}

- name: POSTGRES_HISTORY_DB
  value: {{ .postgres_history.db }}
- name: POSTGRES_HISTORY_HOST
  value: {{ .postgres_history.host }}
- name: POSTGRES_HISTORY_USER
  value: {{ .postgres_history.user }}
- name: POSTGRES_HISTORY_PASSWORD
  value: {{ .postgres_history.password }}
- name: POSTGRES_HISTORY_PORT
  value: {{ .postgres_history.port | quote }}

- name: REDIS_HOST
  value: {{ .Values.redis_prod.host }}
- name: LOG_SOURCE
  value: {{ .logger.source }}
- name: LOG_SERVER
  value: {{ .logger.server }}

  {{ if eq (env "IS_WITH_BALANCE") "1" }}
- name: IS_WITH_BALANCE
  value: "1"
  {{ end }}

{{ if eq (env "IS_WITH_COMET") "1" }}
- name: SOCKET_URL_INFO
  value: https://{{ .Values.ci_url }}{{ .Values.node_comet_prod.path }}
- name: SOCKET_URL
  value: https://{{ .Values.ci_url }}
- name: SOCKET_BACKEND_URL
  value: http://{{ .Values.node_comet_prod.host }}:{{ .Values.node_comet_prod.port }}
- name: SOCKET_SECRET
  value: {{ .Values.node_comet_prod.secret_key }}
{{ end }}


- name: WEB_HOOK_SECRET
  value: {{ .web_hook.secret_key | quote }}
- name: WEB_HOOK_TOKEN
  value: {{ .web_hook.token | quote }}
- name: WEB_HOOK_ACCOUNT_ID
  value: {{ .web_hook.account_id | quote }}
- name: WEB_HOOK_VPBX_ID
  value: {{ .web_hook.vpbx_id | quote }}


  {{ if (eq (env "ENVNAME") "prod") }}
  {{ if eq (env "COUNTRY") "RU" }}
- name: QIWI_PAYMENTS_USER
  value: {{ .Values.payments_prod.qiwi.user }}
- name: QIWI_PAYMENTS_PASSWORD
  value: {{ .Values.payments_prod.qiwi.password }}
  {{ end }}
- name: STRIPE_PUBLISHABLE_KEY
  value: {{ .Values.payments_prod.stripe.publishable_key }}
- name: STRIPE_SECRET_KEY
  value: {{ .Values.payments_prod.stripe.secret_key }}
  {{ end }}

  {{ if and (eq (env "COUNTRY") "RU") (eq (env "ENVNAME") "prod") }}
- name: NNP_NUMLEX_USER
  value: {{ .Values.nnp_prod.numlex_user }}
- name: NNP_NUMLEX_PASS
  value: {{ .Values.nnp_prod.numlex_pass }}

- name: DADATA_TOKEN
  value: {{ .Values.dadata.token }}
- name: DADATA_SECRET
  value: {{ .Values.dadata.secret }}

- name: SIM_AUTHORIZATION
  value: {{ .Values.sim_prod.authorization }}
- name: SIM_TRANSFER_MSISDN
  value: {{ .Values.sim_prod.transfer_msisdn | quote }}
  {{ end }}
- name: NOTIFIER_URI
  value: http://{{ printf "mailer-processor-service-%s-%s-%s" .Chart.Name (env "ENVNAME" | lower) (env "COUNTRY" | lower) }}/
- name: NOTIFIER_USER
  value: {{ .Values.notifier_prod.user }}
- name: NOTIFIER_PASSWD
  value: {{ .Values.notifier_prod.passwd }}

- name: ATOL_IS_ENABLED
  value: {{ .params.atol_is_enabled | quote}}
  {{ if eq .params.atol_is_enabled "1" }}
- name: ATOL_CALL_BACK_URL
  value: {{ .Values.atol_prod.call_back_url }}
#
- name: ATOL_ACCESS_MCN_TELECOM_PASSWORD
  value: {{ .Values.atol_prod.access.mcn_telecom.password }}
- name: ATOL_ACCESS_MCN_TELECOM_LOGIN
  value: {{ .Values.atol_prod.access.mcn_telecom.login }}
- name: ATOL_ACCESS_MCN_TELECOM_GROUP_CODE
  value: {{ .Values.atol_prod.access.mcn_telecom.group_code }}
- name: ATOL_ACCESS_MCN_TELECOM_INN
  value: {{ .Values.atol_prod.access.mcn_telecom.inn | quote }}
#
- name: ATOL_ACCESS_MCN_TELECOM_RETAIL_PASSWORD
  value: {{ .Values.atol_prod.access.mcn_telecom_retail.password }}
- name: ATOL_ACCESS_MCN_TELECOM_RETAIL_LOGIN
  value: {{ .Values.atol_prod.access.mcn_telecom_retail.login }}
- name: ATOL_ACCESS_MCN_TELECOM_RETAIL_GROUP_CODE
  value: {{ .Values.atol_prod.access.mcn_telecom_retail.group_code }}
- name: ATOL_ACCESS_MCN_TELECOM_RETAIL_INN
  value: {{ .Values.atol_prod.access.mcn_telecom_retail.inn | quote }}
#
- name: ATOL_ACCESS_MCN_TELECOM_SERVICE_PASSWORD
  value: {{ .Values.atol_prod.access.mcn_telecom_service.password }}
- name: ATOL_ACCESS_MCN_TELECOM_SERVICE_LOGIN
  value: {{ .Values.atol_prod.access.mcn_telecom_service.login }}
- name: ATOL_ACCESS_MCN_TELECOM_SERVICE_GROUP_CODE
  value: {{ .Values.atol_prod.access.mcn_telecom_service.group_code }}
- name: ATOL_ACCESS_MCN_TELECOM_SERVICE_INN
  value: {{ .Values.atol_prod.access.mcn_telecom_service.inn | quote }}
#
- name: ATOL_ACCESS_AB_SERVICE_MARCOMNET_PASSWORD
  value: {{ .Values.atol_prod.access.ab_service_marcomnet.password }}
- name: ATOL_ACCESS_AB_SERVICE_MARCOMNET_LOGIN
  value: {{ .Values.atol_prod.access.ab_service_marcomnet.login }}
- name: ATOL_ACCESS_AB_SERVICE_MARCOMNET_GROUP_CODE
  value: {{ .Values.atol_prod.access.ab_service_marcomnet.group_code }}
- name: ATOL_ACCESS_AB_SERVICE_MARCOMNET_INN
  value: {{ .Values.atol_prod.access.ab_service_marcomnet.inn | quote }}
#
- name: ATOL_BUY_OR_SELL_PAYMENT_ADDRESS
  value: {{ .Values.atol_prod.buy_or_sell.payment_address }}
- name: ATOL_BUY_OR_SELL_SNO
  value: {{ .Values.atol_prod.buy_or_sell.sno }}
- name: ATOL_BUY_OR_SELL_ITEM_NAME
  value: {{ .Values.atol_prod.buy_or_sell.item_name }}
- name: ATOL_BUY_OR_SELL_TAX
  value: {{ .Values.atol_prod.buy_or_sell.tax }}
  {{ end }}

- name: MCHS_API_KEY
  value: {{ ternary .Values.mchs_prod.api_key "" (eq .params.mchs_is_enabled "1") | quote }}

- name: ASYNC_IS_ENABLED
  value: {{ .params.async_is_enabled | quote}}
  {{ if eq .params.async_is_enabled "1" }}
- name: ASYNC_HOST
  value: {{ .Values.async_prod.host }}
- name: ASYNC_USER
  value: {{ .Values.async_prod.user }}
- name: ASYNC_PASS
  value: {{ .Values.async_prod.pass }}
  {{ end }}
{{ if and (eq (env "COUNTRY") "RU") (eq (env "ENVNAME") "prod") }}
- name: SBIS_LOGIN
  value: {{ .Values.sbis_tenzor_prod.login }}
- name: SBIS_PASSWORD
  value: {{ .Values.sbis_tenzor_prod.password }}
- name: CRYPTOPRO_HOST
  value: {{ .Values.cryptopro_prod.host }}
{{ end }}
  {{- end }}